type Query {
	hello: String
	users(limit: Int, offset: Int): [User!]!
	clients(limit: Int, offset: Int): [Client!]!
	trainers(limit: Int, offset: Int): [Trainer!]!
	sessions(limit: Int, offset: Int): [PTSession!]!
	bodyConditions(clientId: Int!, limit: Int, offset: Int): [BodyCondition!]!
	midtermHealthPurposes(
		clientId: Int!
		limit: Int
		offset: Int
	): [MidtermHealthPurpose!]!
	monthlyHealthMilestones(
		clientId: Int!
		limit: Int
		offset: Int
	): [MonthlyHealthMilestone!]!
	monthlyActionGoals(
		monthlyHealthMilestoneId: Int!
		limit: Int
		offset: Int
	): [MonthlyActionGoal!]!
	assignments(ptSessionId: Int!, limit: Int, offset: Int): [Assignment!]!
	trainingTasks(limit: Int, offset: Int): [TrainingTask!]!
	treatmentTasks(limit: Int, offset: Int): [TreatmentTask!]!
	trainingMenus(limit: Int, offset: Int): [TrainingMenu!]!
	treatmentMenus(limit: Int, offset: Int): [TreatmentMenu!]!
	curriculumUnits(limit: Int, offset: Int): [CurriculumUnit!]!
	requiredFunctions(
		curriculumUnitId: Int!
		limit: Int
		offset: Int
	): [RequiredFunction!]!
	learningMaterials(limit: Int, offset: Int): [LearningMaterial!]!
	homeworkAssignments(
		clientId: Int!
		limit: Int
		offset: Int
	): [HomeworkAssignment!]!
	homeworkRecords(homeworkId: Int!, limit: Int, offset: Int): [HomeworkRecord!]!
}

type Mutation {
	createUser(input: CreateUserInput!): User!
	createClient(input: CreateClientInput!): Client!
	createTrainer(input: CreateTrainerInput!): Trainer!
	createSession(input: CreateSessionInput!): PTSession!
	createBodyCondition(input: CreateBodyConditionInput!): BodyCondition!
	createMidtermHealthPurpose(
		input: CreateMidtermHealthPurposeInput!
	): MidtermHealthPurpose!
	createMonthlyHealthMilestone(
		input: CreateMonthlyHealthMilestoneInput!
	): MonthlyHealthMilestone!
	createMonthlyActionGoal(
		input: CreateMonthlyActionGoalInput!
	): MonthlyActionGoal!
	createAssignment(input: CreateAssignmentInput!): Assignment!
	createHomeworkAssignment(
		input: CreateHomeworkAssignmentInput!
	): HomeworkAssignment!
	createHomeworkRecord(input: CreateHomeworkRecordInput!): HomeworkRecord!
	createLearningMaterial(
		input: CreateLearningMaterialInput!
	): LearningMaterial!
	createCurriculumUnit(input: CreateCurriculumUnitInput!): CurriculumUnit!
	createRequiredFunction(
		input: CreateRequiredFunctionInput!
	): RequiredFunction!
	createTreatmentMenu(input: CreateTreatmentMenuInput!): TreatmentMenu!
	createTrainingMenu(input: CreateTrainingMenuInput!): TrainingMenu!
}

# ====================
# ユーザー関連
# ====================

type User {
	id: Int!
	key: String!
	kind: Int!
	firstName: String!
	lastName: String!
	firstNameKana: String!
	lastNameKana: String!
	birthDate: String!
	gender: Int!
	activeFlag: Boolean!
	deletedAt: String
	credentials: UserCredentials
	createdAt: String!
	updatedAt: String!
}

type UserCredentials {
	id: Int!
	userId: String!
	email: String!
	passwordDigest: String!
	resetAt: Boolean!
	createdAt: String!
	updatedAt: String!
}

# ====================
# クライアント関連
# ====================

type Client {
	id: Int!
	userId: Int!
	user: User!
	profile: ClientProfile
	sessions: [PTSession!]!
	bodyConditions: [BodyCondition!]!
	midtermHealthPurposes: [MidtermHealthPurpose!]!
	assignments: [Assignment!]!
}

type ClientProfile {
	id: Int!
	clientId: Int!
	occupation: String!
	hobby: String!
	allowSnsPost: String!
	exerciseHistory: String!
}

# ====================
# トレーナー関連
# ====================

type Trainer {
	id: Int!
	userId: Int!
	user: User!
	profile: TrainerProfile
	sessions: [PTSession!]!
}

type TrainerProfile {
	id: Int!
	trainerId: Int!
	motivationStatement: String!
	signatureMuscles: String!
	specializations: String!
	certifications: String!
}

# ====================
# セッション関連
# ====================

type PTSession {
	id: Int!
	clientId: Int!
	trainerId: Int!
	key: String!
	performedAt: String!
	kind: String!
	theme: String
	archiveUrl: String
	trainerComment: String
	memo: String
	chatContents: String
	client: Client!
	trainer: Trainer!
	items: [PTSessionItem!]!
	assignments: [Assignment!]!
	createdAt: String!
	updatedAt: String!
}

type PTSessionItem {
	id: Int!
	ptSessionId: Int!
	taskId: Int!
	taskType: String!
	trainerAdvice: String
	memo: String
	createdAt: String!
	updatedAt: String!
}

# ====================
# 身体情報関連
# ====================

type BodyCondition {
	id: Int!
	clientId: Int!
	measuredAt: String!
	weight: Float
	bodyFat: Float
	muscleMass: Float
	skeletalMuscleRate: Float
	bmi: Float
	bmr: Float
	avgSleepTime: Float
	avgRespirationRate: Float
	sympathetic: Float
	parasympathetic: Float
	bust: Float
	underbust: Float
	waist: Float
	hip: Float
	armCircumference: Float
	buttockHeight: Float
	thighCircumference: Float
	calfCircumference: Float
	ffd: Float
	hwd: Float
	memo: String
}

# ====================
# 健康目標関連
# ====================

type MidtermHealthPurpose {
	id: Int!
	key: String!
	clientId: Int!
	purpose: String!
	months: Int!
	settingDate: String!
	startDate: String!
	memo: String
	milestones: [MonthlyHealthMilestone!]!
	createdAt: String!
	updatedAt: String!
}

type MonthlyHealthMilestone {
	id: Int!
	key: String!
	clientId: Int!
	midtermHealthGoalId: Int!
	target: String!
	asIs: String!
	toBe: String
	achieved: Boolean
	yearMonth: String!
	actionGoals: [MonthlyActionGoal!]!
	createdAt: String!
	updatedAt: String!
}

type MonthlyActionGoal {
	id: Int!
	key: String!
	monthlyHealthMilestoneId: Int!
	goal: String!
	frequencyPerWeek: Int!
	actionType: String
	achieved: String
	targetMonth: String!
	createdAt: String!
	updatedAt: String!
}

# ====================
# 宿題関連
# ====================

type Assignment {
	id: Int!
	key: String!
	ptSessionId: Int!
	dueDate: String!
	taskType: String!
	taskId: Int!
	executions: [AssignmentExecution!]!
	createdAt: String!
	updatedAt: String!
}

type AssignmentExecution {
	id: Int!
	assignmentId: Int!
	executionDate: String!
	createdAt: String!
	updatedAt: String!
}

type HomeworkAssignment {
	id: Int!
	key: String!
	sessionId: Int!
	clientId: Int!
	trainerId: Int!
	homeworkType: String!
	title: String!
	description: String!
	frequency: String!
	durationDays: Int!
	notes: String
	materialUrl: String
	priority: String!
	status: String!
	records: [HomeworkRecord!]!
	createdAt: String!
	updatedAt: String!
}

type HomeworkRecord {
	id: Int!
	homeworkId: Int!
	clientId: Int!
	performedAt: String!
	completionStatus: String!
	durationMinutes: Int
	repetitions: Int
	feedback: String
	difficulties: String
	createdAt: String!
	updatedAt: String!
}

# ====================
# タスク関連
# ====================

type TrainingTask {
	id: Int!
	key: String!
	contentType: String!
	contentId: Int!
	weight: Float
	reps: Int
	sec: Int
	memo: String
	createdAt: String!
	updatedAt: String!
}

type TreatmentTask {
	id: Int!
	key: String!
	contentType: String!
	contentId: Int!
	sec: Int
	memo: String
	createdAt: String!
	updatedAt: String!
}

# ====================
# マスターデータ
# ====================

type TrainingMenu {
	id: Int!
	name: String!
	requiredFunctionId: Int!
	requiredFunction: RequiredFunction
	learningMaterialId: Int
	learningMaterial: LearningMaterial
	tips: String
	commonErrors: [String!]
	targetMuscles: [String!]
	level: Int
	createdAt: String!
	updatedAt: String!
}

type TreatmentMenu {
	id: Int!
	name: String!
	requiredFunctionId: Int!
	requiredFunction: RequiredFunction
	learningMaterialId: Int
	learningMaterial: LearningMaterial
	tips: String
	commonErrors: [String!]
	targetMuscles: [String!]
	createdAt: String!
	updatedAt: String!
}

type RequiredFunction {
	id: Int!
	curriculumUnitId: Int!
	curriculumUnit: CurriculumUnit
	name: String!
	overview: String!
	overviewUrl: String
	evaluationCriteria: String!
	evaluationCriteriaUrl: String
	treatmentMenus: [TreatmentMenu!]!
	trainingMenus: [TrainingMenu!]!
	createdAt: String!
	updatedAt: String!
}

type CurriculumUnit {
	id: Int!
	name: String!
	type: String!
	overview: String!
	overviewUrl: String
	evaluationCriteria: String!
	evaluationCriteriaUrl: String
	requiredFunctions: [RequiredFunction!]!
	createdAt: String!
	updatedAt: String!
}

type LearningMaterial {
	id: Int!
	ownerId: String!
	key: String!
	name: String!
	status: String!
	sourceUrl: String!
	contentType: String!
	contentId: Int!
	createdAt: String!
	updatedAt: String!
}

# ====================
# Enum定義
# ====================

enum UserRole {
	ADMIN
	TRAINER
	CLIENT
}

enum Gender {
	MALE
	FEMALE
	OTHER
	PREFER_NOT_TO_SAY
}

# ====================
# Input定義
# ====================

input CreateUserInput {
	kind: Int!
	firstName: String!
	lastName: String!
	firstNameKana: String!
	lastNameKana: String!
	birthDate: String!
	gender: Int!
	email: String!
	password: String!
}

input CreateClientInput {
	userId: Int!
}

input CreateTrainerInput {
	userId: Int!
}

input CreateSessionInput {
	clientId: Int!
	trainerId: Int!
	performedAt: String!
	kind: String!
	theme: String
}

input CreateBodyConditionInput {
	clientId: Int!
	measuredAt: String!
	weight: Float
	bodyFat: Float
	muscleMass: Float
	skeletalMuscleRate: Float
	bmi: Float
	bmr: Float
	avgSleepTime: Float
	avgRespirationRate: Float
	sympathetic: Float
	parasympathetic: Float
	bust: Float
	underbust: Float
	waist: Float
	hip: Float
	armCircumference: Float
	buttockHeight: Float
	thighCircumference: Float
	calfCircumference: Float
	ffd: Float
	hwd: Float
	memo: String
}

input CreateMidtermHealthPurposeInput {
	clientId: Int!
	purpose: String!
	months: Int!
	settingDate: String!
	startDate: String!
	memo: String
}

input CreateMonthlyHealthMilestoneInput {
	clientId: Int!
	midtermHealthGoalId: Int!
	target: String!
	asIs: String!
	toBe: String
	yearMonth: String!
}

input CreateMonthlyActionGoalInput {
	monthlyHealthMilestoneId: Int!
	goal: String!
	frequencyPerWeek: Int!
	actionType: String
	targetMonth: String!
}

input CreateAssignmentInput {
	ptSessionId: Int!
	dueDate: String!
	taskType: String!
	taskId: Int!
}

input CreateHomeworkAssignmentInput {
	sessionId: Int!
	clientId: Int!
	trainerId: Int!
	homeworkType: String!
	title: String!
	description: String!
	frequency: String!
	durationDays: Int!
	notes: String
	materialUrl: String
	priority: String!
}

input CreateHomeworkRecordInput {
	homeworkId: Int!
	clientId: Int!
	performedAt: String!
	completionStatus: String!
	durationMinutes: Int
	repetitions: Int
	feedback: String
	difficulties: String
}

input CreateLearningMaterialInput {
	ownerId: String!
	name: String!
	status: String!
	sourceUrl: String!
	contentType: String!
	contentId: Int!
}

input CreateCurriculumUnitInput {
	name: String!
	type: String!
	overview: String!
	overviewUrl: String
	evaluationCriteria: String!
	evaluationCriteriaUrl: String
}

input CreateRequiredFunctionInput {
	curriculumUnitId: Int!
	name: String!
	overview: String!
	overviewUrl: String
	evaluationCriteria: String!
	evaluationCriteriaUrl: String
}

input CreateTreatmentMenuInput {
	name: String!
	requiredFunctionId: Int!
	learningMaterialId: Int
	tips: String
	commonErrors: [String!]
	targetMuscles: [String!]
}

input CreateTrainingMenuInput {
	name: String!
	requiredFunctionId: Int!
	learningMaterialId: Int
	tips: String
	commonErrors: [String!]
	targetMuscles: [String!]
	level: Int
}
