# ============================================
# 自動生成されたGraphQLスキーマ
# 生成元: src/db/schema.ts (Drizzle ORM)
#
# Database-Firstアプローチ:
# - DrizzleスキーマがSingle Source of Truth
# - このファイルは自動生成されるため、手動編集は推奨されません
# - カスタマイズが必要な場合は、scripts/generate-graphql-schema-from-db.ts を編集してください
#
# 生成日時: 2026-01-01T12:08:51.725Z
# ============================================

type Query {
	users(limit: Int, offset: Int): [User!]!
	usersById(id: Int!): User
	userCredentials(limit: Int, offset: Int): [UserCredential!]!
	userCredentialsById(id: Int!): UserCredential
	clients(limit: Int, offset: Int): [Client!]!
	clientsById(id: Int!): Client
	clientProfiles(limit: Int, offset: Int): [ClientProfile!]!
	clientProfilesById(id: Int!): ClientProfile
	trainers(limit: Int, offset: Int): [Trainer!]!
	trainersById(id: Int!): Trainer
	trainerProfiles(limit: Int, offset: Int): [TrainerProfile!]!
	trainerProfilesById(id: Int!): TrainerProfile
	ptSessions(limit: Int, offset: Int): [PTSession!]!
	ptSessionsById(id: Int!): PTSession
	ptSessionItems(limit: Int, offset: Int): [PTSessionItem!]!
	ptSessionItemsById(id: Int!): PTSessionItem
	curriculumUnits(limit: Int, offset: Int): [CurriculumUnit!]!
	curriculumUnitsById(id: Int!): CurriculumUnit
	treatmentMenus(limit: Int, offset: Int): [TreatmentMenu!]!
	treatmentMenusById(id: Int!): TreatmentMenu
	trainingMenus(limit: Int, offset: Int): [TrainingMenu!]!
	trainingMenusById(id: Int!): TrainingMenu
}

type Mutation {
	createUser(input: CreateUserInput!): User!
	createUserCredential(input: CreateUserCredentialInput!): UserCredential!
	createClient(input: CreateClientInput!): Client!
	createClientProfile(input: CreateClientProfileInput!): ClientProfile!
	createTrainer(input: CreateTrainerInput!): Trainer!
	createTrainerProfile(input: CreateTrainerProfileInput!): TrainerProfile!
	createPTSession(input: CreatePTSessionInput!): PTSession!
	createPTSessionItem(input: CreatePTSessionItemInput!): PTSessionItem!
	createBodyCondition(input: CreateBodyConditionInput!): BodyCondition!
	createMidtermHealthPurpose(input: CreateMidtermHealthPurposeInput!): MidtermHealthPurpose!
	createAssignment(input: CreateAssignmentInput!): Assignment!
	createLearningMaterial(input: CreateLearningMaterialInput!): LearningMaterial!
	createCurriculumUnit(input: CreateCurriculumUnitInput!): CurriculumUnit!
	createRequiredFunction(input: CreateRequiredFunctionInput!): RequiredFunction!
	createTreatmentMenu(input: CreateTreatmentMenuInput!): TreatmentMenu!
	createTrainingMenu(input: CreateTrainingMenuInput!): TrainingMenu!
}

type User {
	id: Int!
	key: String!
	kind: Int!
	firstName: String!
	lastName: String!
	firstNameKana: String!
	lastNameKana: String!
	birthDate: String!
	gender: Int!
	activeFlag: Boolean!
	deletedAt: String
	createdAt: String!
	updatedAt: String!
}

type UserCredential {
	id: Int!
	userId: String!
	email: String!
	passwordDigest: String!
	resetAt: Boolean!
	createdAt: String!
	updatedAt: String!
}

type Client {
	id: Int!
	userId: Int!
}

type ClientProfile {
	id: Int!
	clientId: Int!
	occupation: String!
	hobby: String!
	allowSnsPost: String!
	exerciseHistory: String!
}

type Trainer {
	id: Int!
	userId: Int!
}

type TrainerProfile {
	id: Int!
	trainerId: Int!
	motivationStatement: String!
	certifications: String!
}

type PTSession {
	id: Int!
	clientId: Int!
	trainerId: Int!
	key: String!
	performedAt: String!
	kind: String!
	theme: String!
	archiveUrl: String
	trainerComment: String
	memo: String
	chatContents: String
	createdAt: String!
	updatedAt: String!
}

type PTSessionItem {
	id: Int!
	ptSessionId: Int!
	taskId: Int!
	taskType: String!
	trainerAdvice: String
	memo: String
	createdAt: String!
	updatedAt: String!
}

type BodyCondition {
	id: Int!
	clientId: Int!
	measuredAt: String!
	memo: String
}

type MidtermHealthPurpose {
	id: Int!
	key: String!
	clientId: Int!
	purpose: String!
	months: Int!
	settingDate: String!
	startDate: String!
	memo: String
	createdAt: String!
	updatedAt: String!
}

type Assignment {
	id: Int!
	key: String!
	ptSessionId: Int!
	dueDate: String!
	taskType: String!
	taskId: Int!
	createdAt: String!
	updatedAt: String!
}

type LearningMaterial {
	id: Int!
	ownerId: String!
	key: String!
	name: String!
	status: String!
	sourceUrl: String!
	contentType: String!
	contentId: Int!
	createdAt: String!
	updatedAt: String!
}

type CurriculumUnit {
	id: Int!
	name: String!
	type: String!
	overview: String!
	overviewUrl: String!
	evaluationCriteria: String!
	evaluationCriteriaUrl: String!
	createdAt: String!
	updatedAt: String!
}

type RequiredFunction {
	id: Int!
	curriculumUnitId: Int!
	name: String!
	overview: String!
	overviewUrl: String!
	evaluationCriteria: String!
	evaluationCriteriaUrl: String!
	createdAt: String!
	updatedAt: String!
}

type TreatmentMenu {
	id: Int!
	name: String!
	requiredFunctionId: Int!
	learningMaterialId: Int!
	tips: String!
	commonErrors: [String!]!
	targetMuscles: [String!]!
	createdAt: String!
	updatedAt: String!
}

type TrainingMenu {
	id: Int!
	name: String!
	requiredFunctionId: Int!
	learningMaterialId: Int!
	tips: String!
	commonErrors: [String!]!
	targetMuscles: [String!]!
	level: Int!
	createdAt: String!
	updatedAt: String!
}

input CreateUserCredentialInput {
	userId: String!
	email: String!
	passwordDigest: String!
}

input CreateClientInput {
	userId: Int!
}

input CreateClientProfileInput {
	clientId: Int!
	occupation: String!
	hobby: String!
	allowSnsPost: String!
	exerciseHistory: String!
}

input CreateTrainerInput {
	userId: Int!
}

input CreateTrainerProfileInput {
	trainerId: Int!
	motivationStatement: String!
	signatureMuscle: String!
	specialization: String!
	certifications: String!
}

input CreatePTSessionInput {
	clientId: Int!
	trainerId: Int!
	performedAt: String!
	kind: String!
	theme: String!
	archiveUrl: String
	trainerComment: String
	memo: String
	chatContents: String
}

input CreatePTSessionItemInput {
	ptSessionId: Int!
	taskId: Int!
	taskType: String!
	trainerAdvice: String
	memo: String
}

input CreateBodyConditionInput {
	clientId: Int!
	measuredAt: String!
	weight: String
	bodyFat: String
	muscleMass: String
	skeletalMuscleRate: String
	bmi: String
	bmr: String
	avgSleepTime: String
	avgRespirationRate: String
	sympathetic: String
	parasympathetic: String
	bust: String
	underbust: String
	waist: String
	hip: String
	armCircumference: String
	buttockHeight: String
	thighCircumference: String
	calfCircumference: String
	ffd: String
	hwd: String
	memo: String
}

input CreateMidtermHealthPurposeInput {
	clientId: Int!
	purpose: String!
	months: Int!
	settingDate: String!
	startDate: String!
	memo: String
}

input CreateAssignmentInput {
	ptSessionId: Int!
	dueDate: String!
	taskType: String!
	taskId: Int!
}

input CreateLearningMaterialInput {
	ownerId: String!
	name: String!
	status: String!
	sourceUrl: String!
	contentType: String!
	contentId: Int!
}

input CreateCurriculumUnitInput {
	name: String!
	type: String!
	overview: String!
	overviewUrl: String!
	evaluationCriteria: String!
	evaluationCriteriaUrl: String!
}

input CreateRequiredFunctionInput {
	curriculumUnitId: Int!
	name: String!
	overview: String!
	overviewUrl: String!
	evaluationCriteria: String!
	evaluationCriteriaUrl: String!
}

input CreateTreatmentMenuInput {
	name: String!
	requiredFunctionId: Int!
	learningMaterialId: Int!
	tips: String!
	commonErrors: [String!]!
	targetMuscles: [String!]!
}

input CreateTrainingMenuInput {
	name: String!
	requiredFunctionId: Int!
	learningMaterialId: Int!
	tips: String!
	commonErrors: [String!]!
	targetMuscles: [String!]!
	level: Int!
}

# ============================================
# カスタムフィールド定義
# 
# Database-Firstアプローチでは、基本的な型は自動生成されますが、
# カスタムフィールド（逆方向リレーション、計算フィールドなど）は
# このファイルで定義します。
#
# このファイルは schema.graphql にマージされます。
# ============================================

# ユーザー関連のカスタムフィールド
extend type User {
	credentials: UserCredential
}

# クライアント関連のカスタムフィールド
extend type Client {
	user: User!
	profile: ClientProfile
	sessions: [PTSession!]!
	bodyConditions: [BodyCondition!]!
	midtermHealthPurposes: [MidtermHealthPurpose!]!
	assignments: [Assignment!]!
}

# トレーナー関連のカスタムフィールド
extend type Trainer {
	user: User!
	profile: TrainerProfile
	sessions: [PTSession!]!
}

extend type TrainerProfile {
	signatureMuscles: String!
	specializations: String!
}

# セッション関連のカスタムフィールド
extend type PTSession {
	client: Client!
	trainer: Trainer!
	items: [PTSessionItem!]!
	assignments: [Assignment!]!
}

# 課題関連のカスタムフィールド
extend type Assignment {
	executions: [AssignmentExecution!]!
}

# 身体情報関連のカスタムフィールド
# 注意: DBスキーマではtext型だが、GraphQLではFloat型として扱う
# 将来的にはDBスキーマをnumeric型に変更することを推奨
extend type BodyCondition {
	weight: Float
	bodyFat: Float
	muscleMass: Float
	skeletalMuscleRate: Float
	bmi: Float
	bmr: Float
	avgSleepTime: Float
	avgRespirationRate: Float
	sympathetic: Float
	parasympathetic: Float
	bust: Float
	underbust: Float
	waist: Float
	hip: Float
	armCircumference: Float
	buttockHeight: Float
	thighCircumference: Float
	calfCircumference: Float
	ffd: Float
	hwd: Float
}

# DBスキーマに存在しない型（将来的にDBに追加予定）
type AssignmentExecution {
	id: Int!
	assignmentId: Int!
	executionDate: String!
	createdAt: String!
	updatedAt: String!
}

# カリキュラム関連のカスタムフィールド
extend type RequiredFunction {
	curriculumUnit: CurriculumUnit
	treatmentMenus: [TreatmentMenu!]!
	trainingMenus: [TrainingMenu!]!
}

extend type CurriculumUnit {
	requiredFunctions: [RequiredFunction!]!
}

extend type TreatmentMenu {
	requiredFunction: RequiredFunction
	learningMaterial: LearningMaterial
}

extend type TrainingMenu {
	requiredFunction: RequiredFunction
	learningMaterial: LearningMaterial
}

# 健康目標関連のカスタムフィールド
extend type MidtermHealthPurpose {
	milestones: [MonthlyHealthMilestone!]!
}

# DBスキーマに存在しない型（将来的にDBに追加予定）
type MonthlyHealthMilestone {
	id: Int!
	key: String!
	clientId: Int!
	midtermHealthGoalId: Int!
	target: String!
	asIs: String!
	toBe: String
	results: String
	achieved: Boolean
	yearMonth: String!
	actionGoals: [MonthlyActionGoal!]!
	createdAt: String!
	updatedAt: String!
}

type MonthlyActionGoal {
	id: Int!
	key: String!
	monthlyHealthMilestoneId: Int!
	goal: String!
	frequencyPerWeek: Int!
	actionType: String
	achieved: String
	targetMonth: String!
	createdAt: String!
	updatedAt: String!
}

extend type MonthlyHealthMilestone {
	actionGoals: [MonthlyActionGoal!]!
}

# その他のカスタムQuery/Mutation
# 注意: ここで定義されたQueryは自動生成をスキップします
extend type Query {
	hello: String
	sessions(limit: Int, offset: Int): [PTSession!]!
	bodyConditions(clientId: Int!, limit: Int, offset: Int): [BodyCondition!]!
	midtermHealthPurposes(
		clientId: Int!
		limit: Int
		offset: Int
	): [MidtermHealthPurpose!]!
	assignments(ptSessionId: Int!, limit: Int, offset: Int): [Assignment!]!
	requiredFunctions(
		curriculumUnitId: Int!
		limit: Int
		offset: Int
	): [RequiredFunction!]!
	learningMaterials(
		ownerId: String
		limit: Int
		offset: Int
	): [LearningMaterial!]!
}

extend type Mutation {
	createClientWithProfile(input: CreateClientWithProfileInput!): Client!
	createSession(input: CreateSessionInput!): PTSession!
}

# カスタムInput型
input CreateClientWithProfileInput {
	firstName: String!
	lastName: String!
	firstNameKana: String!
	lastNameKana: String!
	birthDate: String!
	gender: Int!
	occupation: String!
	hobby: String!
	allowSnsPost: String!
	exerciseHistory: String!
}

input CreateSessionInput {
	clientId: Int!
	trainerId: Int!
	performedAt: String!
	kind: String!
	theme: String!
}

# カスタムInput型（DBスキーマと異なる構造）
input CreateUserInput {
	kind: Int!
	firstName: String!
	lastName: String!
	firstNameKana: String!
	lastNameKana: String!
	birthDate: String!
	gender: Int!
	email: String!
	password: String!
}

